# Runner 800 — Phase 8: FreeSimpleGUI Dashboard (Smart-Mode)

## SCOPE
Evoluir a GUI para um **dashboard** similar ao *Screenshot 2025‑10‑25 at 18.50.37.png*, usando **FreeSimpleGUI**. Não criar lógica de pipeline nova; apenas **UI + ligações** a _placeholders_ e ao stub Smart-Mode.

## CONSTRAINTS
- **Option B** (Codex/CI primeiro).  
- Sem dependências externas não listadas.  
- Idempotente.  
- Substituir qualquer uso de PySimpleGUI por **FreeSimpleGUI**.

## INPUTS (SoT)
- Index: `docs/en/codex/architecture/app-status-index.json`
- Text: `docs/en/codex/architecture/app-status2gpt.md`
- Progress: `docs/en/codex/progress.json`
- Policies: `docs/en/codex/architecture/policies.md`

## IMPLEMENTATION TARGETS (to be created/changed by Codex)
- `app/gui/gui_app.py` (ou `app/gui/dashboard.py`) — implementar o layout descrito em **app-status2gpt.md**.
- Aceita-se modularização (`app/gui/components/*`) a critério do Codex.
- Todas as labels/botões devem corresponder **textualmente** às constantes abaixo (para _grep_ nos testes).

### UI STRINGS (must exist verbatim)
- Window Title: `Barcode Datacenter GUI`
- Sidebar buttons: `Dashboard`, `Ingest`, `Normalize`, `Classify`, `Validate GTIN`, `Dedupe & Unify`, `Publish`, `Tools / Logs`
- Header buttons: `Sync Main`, `Refresh`, `Open Dashboard`
- Actions area: `Run step`, `Run`, `Run pipeline (Smart-Mode)`, `Open artifacts dir`, `Open logs`
- Tabs: `Data Table`, `Preview / Artifacts`, `Logs`
- Status bar: left `Ready`, right `Valid:`, `Invalid:`, `Duplicates:`, `Unified:`
- Status panel contains keys: `ok`, `ts`, `root`, `branch`, `version`

## ACCEPTANCE
1. **Layout** presente com todas as áreas e textos listados em **UI STRINGS**.
2. **Toolkit**: importação de **FreeSimpleGUI** (não PySimpleGUI).
3. **Botões funcionais (placeholder)**:
   - `Run pipeline (Smart-Mode)` invoca o stub existente (mesmo comportamento da Phase 7).
   - `Open artifacts dir` / `Open logs` abrem/mostram caminhos de `artifacts/` (placeholder).
   - `Refresh` atualiza o painel *Status* com JSON dinâmico (ts, root, branch, version).
4. **Status bar** visível com contadores (valores podem ficar a `0`).

## VERIFY (CI)
Executar `bash scripts/verify_phase8_status.sh`, que deve:
- Verificar presença dos **UI STRINGS** nos ficheiros `app/gui/*.py`.
- Confirmar import de **FreeSimpleGUI**.
- Atualizar progresso:
  - `gui_dashboard_layout=100`
  - `actions_wiring=100`
  - `statusbar_counters=100`
  - `tabs_impl=100`
  - `tool_buttons=100`
  - `ci_commit=100` (após commit do CI)

## PROGRESS (helpers)
Via `scripts/codex/progress_helper.py`:
```bash
python3 scripts/codex/progress_helper.py --phase 8 --task gui_dashboard_layout --value 100 --msg "Phase 8 dashboard layout present."
python3 scripts/codex/progress_helper.py --phase 8 --task actions_wiring --value 100 --msg "Phase 8 actions wired to placeholders."
python3 scripts/codex/progress_helper.py --phase 8 --task statusbar_counters --value 100 --msg "Status counters visible."
python3 scripts/codex/progress_helper.py --phase 8 --task tabs_impl --value 100 --msg "Tabs scaffolded."
python3 scripts/codex/progress_helper.py --phase 8 --task tool_buttons --value 100 --msg "Sync/Refresh/Open wired."
python3 scripts/codex/progress_helper.py --phase 8 --task ci_commit --value 100 --msg "CI wrote progress/logs back to repo."
```
## NOTE
Esta fase é **doc-only**: o Codex deve criar/alterar o código conforme o especificado.
