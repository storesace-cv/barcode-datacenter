# Runner 700 — Phase 7: Smart-Mode GUI wiring & pipeline stub

## SCOPE
- Wire the existing FreeSimpleGUI GUI to a Smart-Mode pipeline stub.
- Ensure button **“Run pipeline (Smart-Mode)”** triggers the stub, logs to artifacts, and updates progress.

## CONSTRAINTS
- Idempotent: safe to run multiple times.
- Must read/update SoT files listed below.
- No network access required.
- **Execution Policy:** Option B (Codex-first).

## INPUTS (SoT)
- Index: `docs/en/codex/architecture/app-status-index.json`
- Text: `docs/en/codex/architecture/app-status2gpt.md`
- Progress: `docs/en/codex/progress.json`
- Policies: `docs/en/codex/architecture/policies.md`

## STEPS
1. Ensure files exist:
   - `scripts/codex/progress_helper.py`
   - `scripts/codex/run_smart_pipeline.py`
   - `app/gui/gui_app.py` calls the pipeline stub
2. Create directory `artifacts/logs/` if missing.
3. On pipeline run:
   - Write line to `artifacts/logs/phase7_pipeline.log` (timestamped).
   - Update progress:  
     `python3 scripts/codex/progress_helper.py --phase 7 --task gui_wiring --value 100 --msg "Phase 7 GUI wiring executed (stub)."`

## ACCEPTANCE
- GUI window title: **“Barcode Datacenter GUI (Smart-Mode)”**
- Theme: **DarkGrey13**
- Buttons: **Run pipeline (Smart-Mode)** and **Exit**
- Clicking run:
  - Shows popup confirming execution (stub)
  - Appends to `artifacts/logs/phase7_pipeline.log`
  - Sets progress (phase=7, task=gui_wiring) to 100 with the given message
- `scripts/verify_phase7_status.sh` returns exit code 0.
- Codex-first workflow is respected (runner read from `main`).

## TEST/VERIFY
- CI workflow: `.github/workflows/phase7.yml`
- Local verify after pulling `main`:
```bash
bash scripts/verify_phase7_status.sh
```

## PROGRESS
```bash
python3 scripts/codex/progress_helper.py --phase 7 --task gui_wiring --value 100 --msg "Phase 7 GUI wiring executed (stub)."
```
